/*
var dynamic_img = jQuery('<img id="dynamic">');
var dynamic_img_width;
var dynamic_img_height;
var max_img_width = 0;
var max_img_height = 0;
var img_src = '';
var aspect_ratio;
var window_width;
var window_height;
var available_width;
var available_height;
var timeoutId;
var xTolerance = 20;
var yTolerance = 30;
jQuery(function() {
	dynamic_img.hide();
	 if (timeoutId) {
            window.clearTimeout(timeoutId);
            timeoutId = null;
        }
        else {
          dynamic_img.hide();
        }
	window_width = jQuery(window).width();
	window_height = jQuery(window).height();
	jQuery('img').mousemove(function(e) {
		if (img_src !== jQuery(this).attr('data-img-src')) {
			//console.log(e);
			max_img_width = 0;
			max_img_height = 0;
			dynamic_img.remove();
			dynamic_img = jQuery('<img id="dynamic">');
			dynamic_img.bind('load', function() {
				
				if (!timeoutId) {
            timeoutId = window.setTimeout(function() {
              
		
				max_img_width = dynamic_img.width();
				max_img_height = dynamic_img.height();
				aspect_ratio = max_img_width / max_img_height;
				calculateDynamicWidth(e);
			
				  timeoutId = null;
               dynamic_img.show();
           }, 3000);
        }
				
			});
			
			img_src = jQuery(this).attr('data-img-src');
			//img_src = this.getAttribute('data-img-src');
			//console.log(img_src) ;
			dynamic_img.attr('src', img_src);
			//dynamic_img.hide();
			dynamic_img.css('padding', '5px');
			dynamic_img.css('backgroundColor', 'white');
			dynamic_img.css('border', '1px solid black');
			dynamic_img.css('position', 'absolute');
			dynamic_img.css('z-index', '99999');
			dynamic_img.css('max-width', '400px');
			dynamic_img.css('pointer-events', 'none');
			dynamic_img.css('display', 'none');
			dynamic_img.appendTo('body');
			//dynamic_img.hide()
		}
		calculateDynamicWidth(e)
	});
	jQuery('img').bind("mouseleave", function() {
		
		
		dynamic_img.hide()
		
	});
	jQuery('img').bind("mouseenter", function() {
		
		
		
               dynamic_img.show();
          
	})
});

function calculateDynamicWidth(e) {
	var imgX;
	var imgY;
	var y_upper_limit;
	var y_lower_limit;
	var pageX = e.pageX - jQuery(document).scrollLeft();
	var pageY = e.pageY - jQuery(document).scrollTop();
	if (max_img_width != 0 && max_img_height != 0) {
		q = calculateQuadrant(pageX, pageY);
		dynamic_img_width = max_img_width;
		dynamic_img_height = max_img_height;
		if (dynamic_img_width > available_width) {
			dynamic_img_width = available_width;
			dynamic_img_height = dynamic_img_width / aspect_ratio
		}
		if (dynamic_img_height > available_height) {
			dynamic_img_height = available_height;
			dynamic_img_width = aspect_ratio * dynamic_img_height
		}
		if (q == 1) {
			imgX = e.pageX
		} else {
			imgX = e.pageX - dynamic_img_width
		}
		y_upper_limit = jQuery(document).scrollTop() + (yTolerance / 2);
		y_lower_limit = jQuery(document).scrollTop() + window_height - (yTolerance / 2);
		imgY = e.pageY - dynamic_img_height / 2;
		if (imgY < y_upper_limit) imgY = y_upper_limit;
		if ((imgY + dynamic_img_height) > y_lower_limit) imgY = window_height - (yTolerance / 2) - dynamic_img_height;
		dynamic_img.css('top', imgY);
		dynamic_img.css('left', imgX);
		dynamic_img.css('width', dynamic_img_width)
	} else {
		if (max_img_width < dynamic_img.width()) max_img_width = dynamic_img.width();
		if (max_img_height < dynamic_img.height()) max_img_height = dynamic_img.height();
		aspect_ratio = max_img_width / max_img_height
	}
}

function calculateQuadrant(pageX, pageY) {
	var meanX = window_width / 2;
	if (pageX <= meanX) {
		available_width = window_width - pageX - xTolerance;
		available_height = window_height - yTolerance;
		return 1
	} else {
		available_width = pageX - xTolerance - jQuery(document).scrollLeft();
		available_height = window_height - yTolerance;
		return 2
	}
}
*/